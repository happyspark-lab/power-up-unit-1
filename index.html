<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZPD è­¦å®˜æ™‹å‡ç‰¹è®­ V4.0 (ä»£è¯å¼ºåŒ–ç‰ˆ)</title>
    <style>
        :root {
            /* ç–¯ç‹‚åŠ¨ç‰©åŸé…è‰²ï¼šå¤œæ™¯ç´«ã€éœ“è™¹è“ã€è­¦å¾½é‡‘ */
            --primary: #240046;    
            --secondary: #ff9e00;  /* è­¦å¾½é‡‘ */
            --accent: #00b4d8;     /* å†°å·é•‡è“ */
            --card-bg: rgba(20, 10, 40, 0.95);
            --correct: #70e000;    /* è§å…‰ç»¿ */
            --wrong: #ff0054;      /* è­¦æŠ¥çº¢ */
            --text-main: #ffffff;
        }
        body {
            margin: 0; padding: 0; 
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: var(--primary);
            background-image: linear-gradient(135deg, #10002b 0%, #3c096c 60%, #ff9e00 100%);
            color: var(--text-main); 
            min-height: 100vh; 
            display: flex; justify-content: center; align-items: center;
            -webkit-tap-highlight-color: transparent;
        }
        .game-card {
            background: var(--card-bg); 
            border: 4px solid var(--accent); 
            border-radius: 30px;
            padding: 25px; 
            box-shadow: 0 0 40px rgba(0, 180, 216, 0.4); 
            width: 92%; max-width: 650px; text-align: center;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
        }
        /* é¡¶éƒ¨è£…é¥°æ¡ï¼šè­¦è½¦ç¯æ¡æ•ˆæœ */
        .game-card::before {
            content: ""; position: absolute; top: 0; left: 0; right: 0; height: 8px;
            background: linear-gradient(90deg, #ff0000, #0000ff, #ff0000);
            opacity: 0.7;
        }

        .badge-icon {
            font-size: 3.5rem; margin: 10px 0; display: block;
            filter: drop-shadow(0 0 10px var(--secondary));
            animation: bounce 2s infinite;
        }
        @keyframes bounce { 0%, 100% {transform: translateY(0);} 50% {transform: translateY(-10px);} }

        .header { display: flex; justify-content: space-between; font-size: 1.1rem; color: var(--accent); margin-bottom: 15px; font-weight: bold; }
        
        .progress-track { width: 100%; height: 14px; background: #000; border-radius: 10px; margin-bottom: 20px; border: 1px solid #5a3d8a; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent), var(--secondary)); width: 0%; transition: width 0.3s; }
        
        .q-type-badge {
            background: var(--secondary); color: #240046;
            padding: 5px 15px; border-radius: 15px; font-weight: 800; font-size: 1rem;
            display: inline-block; margin-bottom: 10px; box-shadow: 0 0 10px var(--secondary);
        }
        
        .q-text { font-size: 1.2rem; line-height: 1.4; margin-bottom: 5px; color: #aaa; }
        
        /* é¢˜ç›®å¤§å­—æ ·å¼ */
        .q-highlight { 
            font-size: 2.2rem; font-weight: bold; color: #fff; 
            text-shadow: 0 0 15px var(--accent);
            margin: 15px 0; display: block; letter-spacing: 2px;
            font-family: "Courier New", monospace; 
        }
        .sentence-mode .q-highlight { font-size: 1.5rem; letter-spacing: 0; font-family: sans-serif; text-align: left; padding: 0 10px; }

        /* è¾“å…¥åŒºåŸŸ */
        .input-area { display: none; width: 100%; margin-top: 15px; }
        .spelling-input {
            width: 80px; height: 70px; 
            font-size: 2.5rem; text-align: center;
            border-radius: 15px; border: 3px solid var(--secondary);
            background: rgba(255,255,255,0.15); color: #fff; 
            outline: none; font-weight: bold; text-transform: lowercase;
        }
        .input-hint { color: #aaa; margin-top: 10px; font-size: 0.9rem; }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; margin-top: 15px;}
        .single-col-grid { grid-template-columns: 1fr !important; }

        .option-btn {
            background: rgba(255,255,255,0.08); 
            border: 2px solid var(--accent); 
            color: white;
            padding: 15px; font-size: 1.3rem; border-radius: 15px; cursor: pointer; transition: 0.2s;
            font-weight: bold; min-height: 65px;
            display: flex; align-items: center; justify-content: center;
        }
        .option-btn:active { transform: scale(0.96); background: rgba(255,255,255,0.2); }
        .option-btn.correct { background: var(--correct) !important; border-color: var(--correct); color: #003300; box-shadow: 0 0 20px var(--correct); }
        .option-btn.wrong { background: var(--wrong) !important; border-color: var(--wrong); opacity: 0.6; }

        .flashcard-mode .option-btn { font-size: 1.8rem; padding: 25px; }
        
        .feedback { display: none; margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.6); border-radius: 10px; text-align: left; border-left: 5px solid var(--secondary); }
        
        .btn-main { 
            background: linear-gradient(45deg, var(--accent), #0077b6); 
            color: white; border: none; padding: 18px 40px; font-size: 1.4rem; 
            border-radius: 50px; cursor: pointer; font-weight: bold; margin-top: 25px;
            box-shadow: 0 5px 20px rgba(0, 180, 216, 0.5); width: 100%;
            text-transform: uppercase; letter-spacing: 1px;
        }
        .btn-main:active { transform: translateY(2px); box-shadow: none; }

        .select-level {
            width: 100%; padding: 15px; margin: 15px 0; 
            background: rgba(0,0,0,0.3); color: var(--accent); 
            border: 2px solid var(--accent); border-radius: 12px; font-size: 1.1rem;
            outline: none;
        }
        option { background: #10002b; color: white; }
    </style>
</head>
<body>

    <div id="setup-screen" class="game-card">
        <span class="badge-icon">ğŸš”</span>
        <h1 style="color:var(--secondary); margin:0; font-style:italic;">ZOOTOPIA PD</h1>
        <h2 style="color:#fff; margin:5px 0 20px 0;">è­¦å‘˜ç‰¹è®­ç³»ç»Ÿ V4.0</h2>
        
        <div style="text-align: left; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; margin: 20px 0; font-size: 1rem; border: 1px dashed var(--accent);">
            <p>ğŸ° <b>Judyè­¦å®˜ï¼š</b> "æ–°ä»»åŠ¡ï¼é—ªç”µ(Flash)ç®¡ç†çš„æ¡£æ¡ˆå®¤å¤ªä¹±äº†ï¼"</p>
            <p>ğŸ“ <b>æ–°å¢ä»»åŠ¡ï¼š</b> ç¬¬7å…³ã€æ¡£æ¡ˆå®¤ç‰¹è®­ã€‘ï¼Œè¯·åŠ¡å¿…ç†Ÿç»ƒèƒŒè¯µä»£è¯å˜å½¢ï¼Œå¦åˆ™æŸ¥æ¡£æ¡ˆä¼šå¾ˆæ…¢ï¼</p>
        </div>

        <select id="level-select" class="select-level">
            <option value="1">ğŸ“‚ æ¡ˆä»¶1ï¼šå…”çªé•‡çš„å†œåœºæ¸…å• (æ‹¼å†™)</option>
            <option value="2">ğŸ“‚ æ¡ˆä»¶2ï¼šå°¼å…‹çš„å¿«é€Ÿååº”æµ‹è¯• (æ··åˆ)</option>
            <option value="3">ğŸ“‚ æ¡ˆä»¶3ï¼šå±…æ°‘èƒŒæ™¯å¤§è°ƒæŸ¥ (ä¸€èˆ¬ç°åœ¨æ—¶)</option>
            <option value="4">ğŸ“‚ æ¡ˆä»¶4ï¼šäº¤é€šæ‘„åƒå¤´ç›‘æ§ (ç°åœ¨è¿›è¡Œæ—¶)</option>
            <option value="5">ğŸ“‚ æ¡ˆä»¶5ï¼šè¯ç‰©å½’è¿˜å¤„ (ä»£è¯åº”ç”¨)</option>
            <option value="6">ğŸ“‚ æ¡ˆä»¶6ï¼šç‰›å±€é•¿çš„ç»“æ¡ˆæŠ¥å‘Š (å¤§å°å†™)</option>
            <option value="7">ğŸ“‚ æ¡ˆä»¶7ï¼šæ¡£æ¡ˆå®¤çš„ç‰¹è®­ (ä»£è¯è¡¨æ ¼è®°å¿†)</option>
        </select>

        <button class="btn-main" onclick="startGame()">æ¥å—ä»»åŠ¡</button>
    </div>

    <div id="game-screen" class="game-card" style="display: none;">
        <div class="header">
            <span id="score-display">ğŸ… åŠŸå‹‹: 0</span>
            <span id="progress-display">è¿›åº¦: 1/20</span>
        </div>
        <div class="progress-track"><div class="progress-fill" id="progress-bar"></div></div>
        
        <div class="q-type-badge" id="q-tag">ä»»åŠ¡ç±»å‹</div>
        
        <div class="q-container" id="q-container-box">
            <div class="q-text" id="q-inst">æŒ‡ä»¤</div>
            <div class="q-highlight" id="q-main">é¢˜ç›®</div>
        </div>

        <div id="input-area" class="input-area">
            <input type="text" id="user-input" class="spelling-input" maxlength="2" autocomplete="off">
            <div class="input-hint">âŒ¨ï¸ è¿™æ˜¯ä¸€ä¸ªæ®‹ç¼ºçš„è¯ç‰©ï¼Œå¡«å…¥ä¸¢å¤±çš„å­—æ¯ï¼</div>
            <button class="btn-main" onclick="checkSpelling()" style="margin-top:15px;">ç¡®è®¤ä¿®å¤</button>
        </div>

        <div id="options-grid" class="options-grid"></div>

        <div id="feedback-box" class="feedback">
            <strong id="fb-title" style="display:block; margin-bottom:5px; font-size:1.2rem;"></strong>
            <span id="fb-text"></span>
        </div>
        
        <button id="next-btn" class="btn-main" style="display:none" onclick="nextQuestion()">ä¸‹ä¸€ä¸ªæ¡ˆä»¶ â”</button>
    </div>

    <div id="result-screen" class="game-card" style="display: none;">
        <span class="badge-icon">ğŸŒŸ</span>
        <h1 style="color:var(--secondary);">è¡ŒåŠ¨ç»“æŸï¼</h1>
        <p style="font-size: 1.2rem;">ä½ çš„è­¦å‘˜è¯„çº§å¾—åˆ†ï¼š</p>
        <div id="final-score" style="font-size: 3rem; color: var(--correct); font-weight:bold; margin: 10px 0;"></div>
        <div id="wrong-list" style="text-align:left; margin-top:20px; max-height:200px; overflow-y:auto; padding-right:5px;"></div>
        <button class="btn-main" onclick="location.reload()">è¿”å›è­¦å±€å¤§å…</button>
    </div>

<script>
    // --- é¢˜åº“æ•°æ® V4.0 (å«ç¬¬7å…³å¼ºåŒ–) ---
    const DB = {
        // ç¬¬ä¸€å…³ï¼šå…”çªé•‡çš„å†œåœºæ—¥è®° (æ‹¼å†™)
        1: [ 
            {t:'input', inst:"Judyçš„å®¶ä¹¡å«ä»€ä¹ˆï¼Ÿ", q:"c o u n _ _ y s i d e", a:"tr", full:"countryside", tips:"æç¤ºï¼šä¸­é—´å°‘äº† tr"},
            {t:'input', inst:"Gideon Greyèº²åœ¨å“ªé‡Œï¼Ÿ", q:"f o _ e s t", a:"r", full:"forest", tips:"æç¤ºï¼šfo_est"},
            {t:'input', inst:"çˆ¸çˆ¸å¼€ä»€ä¹ˆè½¦å»ç§èƒ¡èåœï¼Ÿ", q:"t r a c _ o r", a:"t", full:"tractor", tips:"æç¤ºï¼štrac_or"},
            {t:'input', inst:"Judyåœ¨å“ªé‡ŒæŠ“åè›‹ï¼Ÿ(ç”°é‡)", q:"f _ e l d", a:"i", full:"field", tips:"æç¤ºï¼šiå’Œeæ˜¯ä¸€å¯¹å¥½æœ‹å‹"},
            {t:'input', inst:"æ ‘ä¸Šæ‰ä¸‹æ¥å¾ˆå¤š...", q:"l e a _ e s", a:"v", full:"leaves", tips:"æç¤ºï¼šfå˜våŠ es"},
            {t:'input', inst:"å°å¿ƒé‚£ä¸ªå¤§çŸ³å¤´ï¼", q:"r _ c k", a:"o", full:"rock", tips:"æç¤ºï¼šr_ck"},
            {t:'input', inst:"é‚£æ˜¯ä¸€ä¸ªç¾ä¸½çš„å¤§æ¹–", q:"l a _ e", a:"k", full:"lake", tips:"æç¤ºï¼šla_e"},
            {t:'input', inst:"åˆ«è¸©è‰åœ°ï¼", q:"g r a _ s", a:"s", full:"grass", tips:"æç¤ºï¼šä¸¤ä¸ªs"},
            {t:'input', inst:"å»å¤–é¢é€é€æ°”", q:"o u t _ i d e", a:"s", full:"outside", tips:"æç¤ºï¼šs"},
            {t:'input', inst:"æ—©ä¸Šè¯¥å¹²å˜›äº†ï¼Ÿ", q:"g e t  _ p", a:"u", full:"get up", tips:"æç¤ºï¼šu"},
            {t:'input', inst:"å¿«é†’é†’ï¼è¿Ÿåˆ°äº†ï¼", q:"w _ k e  u p", a:"a", full:"wake up", tips:"æç¤ºï¼ša"},
            {t:'input', inst:"æ´—ä¸ªæ¾¡ï¼Œé¦™å–·å–·", q:"s h _ w e r", a:"o", full:"shower", tips:"æç¤ºï¼šo"},
            {t:'input', inst:"é€’ç»™æˆ‘é‚£æ¡æ¯›å·¾", q:"t o _ e l", a:"w", full:"towel", tips:"æç¤ºï¼šw"},
            {t:'input', inst:"æŠŠæ¯›å¼„å¹²", q:"d _ y", a:"r", full:"dry", tips:"æç¤ºï¼šr"},
            {t:'input', inst:"åˆ·åˆ·ä½ çš„å¤§ç‰™é½¿", q:"t e e _ h", a:"t", full:"teeth", tips:"æç¤ºï¼št"},
            {t:'input', inst:"è¿™æ˜¯æˆ‘çš„æ—¥å¸¸ä½œæ¯", q:"r o u t _ n e", a:"i", full:"routine", tips:"æç¤ºï¼ši"},
            {t:'input', inst:"çœ‹çœ‹åœ°é¢ä¸Šæœ‰ä»€ä¹ˆçº¿ç´¢", q:"g r _ u n d", a:"o", full:"ground", tips:"æç¤ºï¼šo"},
            {t:'input', inst:"æˆ‘ä»¬è¦æ¥ä¸€åœºæ¯”èµ›ï¼", q:"r _ c e", a:"a", full:"race", tips:"æç¤ºï¼ša"},
            {t:'input', inst:"ä¿æŠ¤æˆ‘ä»¬çš„åœ°çƒ", q:"E a _ t h", a:"r", full:"Earth", tips:"æç¤ºï¼šr"},
            {t:'input', inst:"æˆ‘ä»¬è¦ç§å¾ˆå¤šèƒ¡èåœ", q:"g r _ w", a:"o", full:"grow", tips:"æç¤ºï¼šo"}
        ],
        // ç¬¬äºŒå…³ï¼šå°¼å…‹çš„å¿«é€Ÿååº”æµ‹è¯• (è®°å¿†å¡)
        2: [ 
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šSheçš„å½¢å®¹è¯æ˜¯ï¼Ÿ", q:"She â†’ ?", opts:["her", "hers"], a:"her", why:"Her book (å¥¹çš„ä¹¦)ã€‚ååº”è¦å¿«ï¼"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šè¿™æ˜¯'å¥¹çš„ä¸œè¥¿'ï¼Ÿ", q:"She â†’ ?", opts:["her", "hers"], a:"hers", why:"åè¯æ€§ç‰©ä¸»ä»£è¯ï¼šIt is hersã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šç»™'å¥¹'(å®¾æ ¼)ï¼Ÿ", q:"She â†’ ?", opts:["her", "him"], a:"her", why:"Give it to herã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šI çš„å½¢å®¹è¯ï¼Ÿ", q:"I â†’ ?", opts:["me", "my"], a:"my", why:"My pen (æˆ‘çš„ç¬”)ã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šè¿™æ˜¯'æˆ‘çš„ä¸œè¥¿'ï¼Ÿ", q:"I â†’ ?", opts:["my", "mine"], a:"mine", why:"It is mineã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šçœ‹'æˆ‘'(å®¾æ ¼)ï¼Ÿ", q:"I â†’ ?", opts:["me", "my"], a:"me", why:"Look at meã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šHis carè¿˜æ˜¯Him carï¼Ÿ", q:"He â†’ ?", opts:["his", "him"], a:"his", why:"His car (ä»–çš„è½¦)ã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šé‚£æ˜¯'ä»–çš„ä¸œè¥¿'ï¼Ÿ", q:"He â†’ ?", opts:["his", "him"], a:"his", why:"It is hisã€‚Hisè¿™ä¸ªè¯å¾ˆç‰¹æ®Šï¼Œä¸¤ä¸ªä¸€æ ·ï¼"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šå¸®å¸®'ä»–'ï¼Ÿ", q:"He â†’ ?", opts:["his", "him"], a:"him", why:"Help himã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šæˆ‘ä»¬çš„æ˜Ÿçƒï¼Ÿ", q:"We â†’ ?", opts:["our", "us"], a:"our", why:"Our planetã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šåŠ å…¥æˆ‘ä»¬ï¼Ÿ", q:"We â†’ ?", opts:["our", "us"], a:"us", why:"Join usã€‚"},
            {t:'card', inst:"ğŸ¦Š å°¼å…‹é—®ï¼šä»–ä»¬çš„æˆ¿å­ï¼Ÿ", q:"They â†’ ?", opts:["their", "them"], a:"their", why:"Their houseã€‚"},
            {t:'card', inst:"ğŸ“‹ è­¦æ ¡å…¬å¼ï¼šæ­£åœ¨åšä»»åŠ¡", q:"ç°åœ¨è¿›è¡Œæ—¶", opts:["be + doing", "be + do"], a:"be + doing", why:"æ­£åœ¨åšï¼šam/is/are + doingï¼"},
            {t:'card', inst:"ğŸ“‹ è­¦æ ¡å…¬å¼ï¼šå¹³æ—¶åšä»»åŠ¡", q:"ä¸€èˆ¬ç°åœ¨æ—¶(ä¸‰å•)", opts:["åŠ¨è¯+s/es", "åŠ¨è¯+ing"], a:"åŠ¨è¯+s/es", why:"ä¸‰å•(ä»–å¥¹å®ƒ)åŠ¨è¯è¦å˜èº«ï¼"},
            {t:'card', inst:"ğŸ“‹ è­¦æ ¡å…¬å¼ï¼šå¾ˆå¤šæ ‘å¶", q:"Leaf å¤æ•°", opts:["leafs", "leaves"], a:"leaves", why:"få˜vï¼Œå†åŠ esã€‚"},
            {t:'card', inst:"ğŸ“‹ è­¦æ ¡å…¬å¼ï¼šJudyæœ‰(have)...", q:"have (ä¸‰å•)", opts:["haves", "has"], a:"has", why:"Haveå˜èº«æ˜¯Hasï¼"},
            {t:'card', inst:"ğŸ“‹ è­¦æ ¡å…¬å¼ï¼šJudyåš(do)...", q:"do (ä¸‰å•)", opts:["dos", "does"], a:"does", why:"DoåŠ eså˜æˆDoesã€‚"},
            {t:'card', inst:"ğŸ“‹ è­¦æ ¡å…¬å¼ï¼šNickå»(go)...", q:"go (ä¸‰å•)", opts:["gos", "goes"], a:"goes", why:"GoåŠ eså˜æˆGoesã€‚"},
            {t:'card', inst:"ğŸ“‹ è­¦æ ¡å…¬å¼ï¼šFlashçœ‹(watch)...", q:"watch (ä¸‰å•)", opts:["watchs", "watches"], a:"watches", why:"chç»“å°¾åŠ esã€‚"},
            {t:'card', inst:"ğŸ“‹ è­¦æ ¡å…¬å¼ï¼šé£(fly)...", q:"fly (ä¸‰å•)", opts:["flys", "flies"], a:"flies", why:"yå˜iåŠ esã€‚"}
        ],
        // ç¬¬ä¸‰å…³ï¼šå±…æ°‘èƒŒæ™¯è°ƒæŸ¥ (ä¸€èˆ¬ç°åœ¨æ—¶)
        3: [
            {t:'choice', inst:"[æ¡£æ¡ˆåˆ†æ] Nickå–œæ¬¢è“è“å—ï¼Ÿ", q:"Nick _____ blueberries.", opts:["like", "likes"], a:"likes", why:"âœ… æ¡£æ¡ˆè®°å½•ï¼šNickæ˜¯å•æ•°(ä¸‰å•)ï¼Œå–œæ¬¢è¦åŠ sã€‚"},
            {t:'choice', inst:"[æ¡£æ¡ˆåˆ†æ] Judyåƒè‚‰å—ï¼Ÿ", q:"Judy _____ eat meat.", opts:["don't", "doesn't"], a:"doesn't", why:"âœ… æ¡£æ¡ˆè®°å½•ï¼šJudyæ˜¯å…”å­(ä¸‰å•)ï¼Œä¸åƒè‚‰ç”¨doesn'tã€‚"},
            {t:'choice', inst:"[ç¬”å½•] å«Œç–‘äººå‡ ç‚¹èµ·åºŠï¼Ÿ", q:"I _____ up at 7 o'clock.", opts:["gets", "get"], a:"get", why:"âœ… ç¬”å½•ï¼š'I'æ˜¯ç¬¬ä¸€äººç§°ï¼ŒåŠ¨è¯ç”¨åŸå½¢ã€‚"},
            {t:'choice', inst:"[è¯¢é—®] ä»–ä»¬ä½åœ¨è¿™é‡Œå—ï¼Ÿ", q:"_____ they live in Zootopia?", opts:["Do", "Does"], a:"Do", why:"âœ… è¯¢é—®å¯¹è±¡æ˜¯They(å¤æ•°)ï¼Œç”¨Doã€‚"},
            {t:'choice', inst:"[è¯¢é—®] é—ªç”µè¯´è¯æ…¢å—ï¼Ÿ", q:"_____ Flash speak slowly?", opts:["Do", "Does"], a:"Does", why:"âœ… Flashæ˜¯ä¸€ä¸ªäºº(ä¸‰å•)ï¼Œç”¨Doesæé—®ã€‚"},
            {t:'choice', inst:"[æ¡£æ¡ˆ] æˆ‘ä»¬å‘¨æ—¥ä¸ä¸Šå­¦", q:"We _____ go to school on Sunday.", opts:["aren't", "don't"], a:"don't", why:"âœ… å®ä¹‰åŠ¨è¯goçš„å¦å®šï¼Œå¿…é¡»è¯·don'tå¸®å¿™ã€‚"},
            {t:'choice', inst:"[å¸¸è¯†] å¤ªé˜³å‡èµ·", q:"The sun _____ in the morning.", opts:["rise", "rises"], a:"rises", why:"âœ… å¤ªé˜³åªæœ‰ä¸€ä¸ª(ä¸‰å•)ï¼ŒåŠ¨è¯åŠ sã€‚"},
            {t:'choice', inst:"[ç¡®è®¤] å¥¹å·¥ä½œåŠªåŠ›å—ï¼Ÿ", q:"Does she work hard? -- Yes, she _____.", opts:["is", "does"], a:"does", why:"âœ… å£è¯€ï¼šDoesé—®ï¼ŒDoesç­”ã€‚"},
            {t:'choice', inst:"[è¯¢é—®] ä½ å‡ ç‚¹ç¡è§‰ï¼Ÿ", q:"What time _____ you go to bed?", opts:["do", "are"], a:"do", why:"âœ… ç¡è§‰(go)æ˜¯åŠ¨ä½œï¼ŒåŠ©åŠ¨è¯ç”¨doã€‚"},
            {t:'choice', inst:"[ä¹ æƒ¯] çˆ¸çˆ¸æ¯å¤©æ·‹æµ´", q:"My dad _____ a shower every day.", opts:["have", "has"], a:"has", why:"âœ… çˆ¸çˆ¸æ˜¯ä¸‰å•ï¼ŒHaveå˜èº«Hasã€‚"},
            {t:'choice', inst:"[è§‚å¯Ÿ] ä½ çœ‹èµ·æ¥ä¸é«˜å…´", q:"You _____ look happy.", opts:["doesn't", "don't"], a:"don't", why:"âœ… ä½ (You)é…don'tï¼Œä¸é…doesn'tã€‚"},
            {t:'choice', inst:"[æ—¶é—´] å­¦æ ¡4ç‚¹æ”¾å­¦", q:"It _____ at 4 o'clock.", opts:["finish", "finishes"], a:"finishes", why:"âœ… å­¦æ ¡(It)æ˜¯ä¸‰å•ï¼ŒfinishåŠ esã€‚"},
            {t:'choice', inst:"[èŒä¸š] å†œæ°‘ç§æ¤ç‰©", q:"Farmers _____ plants.", opts:["grow", "grows"], a:"grow", why:"âœ… å†œæ°‘ä»¬(å¤æ•°)ï¼ŒåŠ¨è¯ç”¨åŸå½¢ã€‚"},
            {t:'choice', inst:"[è¯¢é—®] ä½ å¦¹å¦¹å–œæ¬¢èƒ¡èåœå—ï¼Ÿ", q:"_____ your sister like carrots?", opts:["Do", "Does"], a:"Does", why:"âœ… ä½ å¦¹å¦¹=å¥¹(ä¸‰å•)ï¼Œç”¨Doesã€‚"},
            {t:'choice', inst:"[è§„åˆ™] æˆ‘ä»¬å¿…é¡»ç…§é¡¾åœ°çƒ", q:"We _____ look after our planet.", opts:["must", "does"], a:"must", why:"âœ… è­¦å¯Ÿå®ˆåˆ™ï¼šå¿…é¡»(must)ã€‚"},
            {t:'choice', inst:"[è§„åˆ™] ä¸è¦ç”¨æ–°å¡‘æ–™è¢‹", q:"Don't _____ new plastic bags.", opts:["use", "uses"], a:"use", why:"âœ… Don'tæ˜¯ä¸ªç…§å¦–é•œï¼Œåé¢åŠ¨è¯ç°åŸå½¢ã€‚"},
            {t:'choice', inst:"[æ—¶é—´] å­¦æ ¡8ç‚¹å¼€å§‹", q:"School _____ at 8:00.", opts:["starts", "start"], a:"starts", why:"âœ… å­¦æ ¡æ˜¯ä¸‰å•ï¼ŒstartåŠ sã€‚"},
            {t:'choice', inst:"[ä¹ æƒ¯] æˆ‘åšä½œä¸š", q:"I _____ my homework.", opts:["do", "does"], a:"do", why:"âœ… I do my homework. ç»å…¸æ­é…ã€‚"},
            {t:'choice', inst:"[ä¹ æƒ¯] å¥¹åšä½œä¸š", q:"She _____ her homework.", opts:["do", "does"], a:"does", why:"âœ… She does her homework. ä¸‰å•ç”¨doesã€‚"},
            {t:'choice', inst:"[è¯¢é—®] ç°åœ¨å‡ ç‚¹äº†ï¼Ÿ", q:"What time _____ it?", opts:["is", "does"], a:"is", why:"âœ… é—®æ—¶é—´ï¼šWhat time IS it?"}
        ],
        // ç¬¬å››å…³ï¼šäº¤é€šæ‘„åƒå¤´ç›‘æ§ (ç°åœ¨è¿›è¡Œæ—¶)
        4: [
            {t:'choice', inst:"[ç›‘æ§1å·] ä»“é¼ ä»¬æ­£åœ¨å·¥ä½œ", q:"The hamsters _____ working.", opts:["is", "are"], a:"are", why:"ğŸ“¹ ç›‘æ§ç¡®è®¤ï¼šä»“é¼ ä»¬(å¤æ•°)ç”¨areã€‚"},
            {t:'choice', inst:"[ç›‘æ§2å·] å®å®æ­£åœ¨ç¡è§‰", q:"Shh! The baby _____.", opts:["is sleep", "is sleeping"], a:"is sleeping", why:"ğŸ“¹ ç›‘æ§ç¡®è®¤ï¼šæ­£åœ¨å‘ç”Ÿ be + sleepingã€‚"},
            {t:'choice', inst:"[å¯¹è®²æœº] ä½ åœ¨å¬æˆ‘è¯´å—ï¼Ÿ", q:"_____ you listening to me?", opts:["Do", "Are"], a:"Are", why:"ğŸ“¹ æ­£åœ¨å¬(listening)ï¼Œå‰é¢å¿…é¡»æœ‰Areã€‚"},
            {t:'choice', inst:"[ç›‘æ§3å·] ä»–æ²¡åœ¨çœ‹ç”µè§†", q:"He _____ watching TV now.", opts:["isn't", "doesn't"], a:"isn't", why:"ğŸ“¹ å¦å®šçŠ¶æ€ï¼šisn't watchingã€‚"},
            {t:'choice', inst:"[è¯¢é—®] é‚£äº›äººåœ¨å¹²ä»€ä¹ˆï¼Ÿ", q:"What _____ they doing?", opts:["are", "do"], a:"are", why:"ğŸ“¹ Doingæ˜¯è¿›è¡Œæ—¶æ ‡å¿—ï¼Œæ­é…Areã€‚"},
            {t:'choice', inst:"[è¿½æ•] é‚£æ¡ç‹—æ­£åœ¨è·‘ï¼", q:"Look! The dog is _____.", opts:["runing", "running"], a:"running", why:"ğŸ“¹ é€Ÿåº¦å¤ªå¿«ï¼Œnè¦åŒå†™ï¼(running)"},
            {t:'choice', inst:"[å‡†å¤‡] å¥¹æ­£åœ¨ç©¿é´å­", q:"She is _____ her boots.", opts:["putting on", "put on"], a:"putting on", why:"ğŸ“¹ æ­£åœ¨ç©¿ï¼Œtè¦åŒå†™+ingã€‚"},
            {t:'choice', inst:"[ä¼‘é—²] æˆ‘æ­£åœ¨çœ‹ä¹¦", q:"I am _____ a book.", opts:["reading", "read"], a:"reading", why:"ğŸ“¹ Amåé¢è·Ÿingå½¢å¼ã€‚"},
            {t:'choice', inst:"[å«ç”Ÿ] ä»–ä»¬æ­£åœ¨åˆ·ç‰™", q:"They are _____ their teeth.", opts:["cleaning", "cleanning"], a:"cleaning", why:"ğŸ“¹ Cleanç›´æ¥åŠ ingå³å¯ã€‚"},
            {t:'choice', inst:"[ç¡®è®¤] æ˜¯çš„ï¼Œæˆ‘æ­£åœ¨æ‰“ç½‘çƒ", q:"Are you playing tennis? -- Yes, I _____.", opts:["do", "am"], a:"am", why:"ğŸ“¹ Are youé—®ï¼ŒI amç­”ã€‚"},
            {t:'choice', inst:"[ç›‘æ§4å·] å¥¹åœ¨æ´—æ¾¡å—ï¼Ÿ", q:"Is she _____ a shower?", opts:["having", "haveing"], a:"having", why:"ğŸ“¹ Haveè¦å»eåŠ ingã€‚"},
            {t:'choice', inst:"[ç¯ä¿] æˆ‘ä»¬æ­£åœ¨ç§æ ‘", q:"We are _____ trees.", opts:["planting", "plants"], a:"planting", why:"ğŸ“¹ æ­£åœ¨è¿›è¡Œçš„åŠ¨ä½œåŠ ingã€‚"},
            {t:'choice', inst:"[å¤©æ°”] æ ‘å¶æ­£åœ¨é£˜è½", q:"The leaves are _____.", opts:["faling", "falling"], a:"falling", why:"ğŸ“¹ æ­£åœ¨æ‰è½ fallingã€‚"},
            {t:'choice', inst:"[è¯¢é—®] ä»–æ­£åœ¨åšä»€ä¹ˆï¼Ÿ", q:"What is he _____?", opts:["doing", "does"], a:"doing", why:"ğŸ“¹ æ­£åœ¨åš = doingã€‚"},
            {t:'choice', inst:"[ç›‘æ§5å·] çŒ«æ­£åœ¨çˆ¬æ ‘", q:"The cat is _____ the tree.", opts:["climing", "climbing"], a:"climbing", why:"ğŸ“¹ Climbç›´æ¥åŠ ingã€‚"},
            {t:'choice', inst:"[ç›‘æ§6å·] ä»–ä»¬åœ¨æ¸¸æ³³", q:"They are _____ in the lake.", opts:["swiming", "swimming"], a:"swimming", why:"ğŸ“¹ SwimåŒå†™måŠ ingï¼"},
            {t:'choice', inst:"[å¤©æ°”] æ²¡ä¸‹é›ª", q:"Is it snowing? -- No, it _____.", opts:["isn't", "doesn't"], a:"isn't", why:"ğŸ“¹ Is ité—®ï¼Œit isn'tç­”ã€‚"},
            {t:'choice', inst:"[äº¤é€š] å…¬äº¤è½¦æ¥å•¦ï¼", q:"Look! The bus _____ coming.", opts:["is", "does"], a:"is", why:"ğŸ“¹ Look! æ˜¯æ­£åœ¨è¿›è¡Œçš„ä¿¡å·ã€‚"},
            {t:'choice', inst:"[ç”Ÿæ´»] æˆ‘ä»¬æ­£åœ¨åƒåˆé¥­", q:"We _____ having lunch.", opts:["are", "is"], a:"are", why:"ğŸ“¹ We(æˆ‘ä»¬)ç”¨areã€‚"},
            {t:'choice', inst:"[è¯¢é—®] ä½ è¦å»å“ªï¼Ÿ", q:"Where are you _____?", opts:["going", "go"], a:"going", why:"ğŸ“¹ ä½ æ­£åœ¨å»å“ªï¼ŸGoingã€‚"}
        ],
        // ç¬¬äº”å…³ï¼šè¯ç‰©å½’è¿˜å¤„ (äººç§°ä»£è¯)
        5: [
            {t:'choice', inst:"ğŸ” é‡ç‚¹æœæŸ¥ï¼šå¥¹åœ¨å“ªï¼Ÿ", q:"Where is _____?", opts:["her", "she"], a:"she", why:"ğŸš¨ è­¦æŠ¥ï¼æ‰¾äºº(ä¸»è¯­)è¦ç”¨Sheï¼Heræ˜¯'å¥¹çš„'ä¸œè¥¿ã€‚"},
            {t:'choice', inst:"[èº«ä»½] ___ æ˜¯å¥½è­¦å¯Ÿ", q:"_____ is a good police officer.", opts:["Her", "She"], a:"She", why:"ğŸ” åœ¨å¥å­å¼€å¤´å½“ä¸»è§’ï¼Œç”¨Sheã€‚"},
            {t:'choice', inst:"[ç‰©å“] è¿™æ˜¯ ___ ç¬”", q:"This is _____ pen.", opts:["my", "mine"], a:"my", why:"ğŸ” åé¢æœ‰ç‰©å“(pen)ï¼Œç”¨myã€‚"},
            {t:'choice', inst:"[ç‰©å“] è¿™æ”¯ç¬”æ˜¯ ___", q:"This pen is _____.", opts:["my", "mine"], a:"mine", why:"ğŸ” åé¢ç©ºç©ºçš„ï¼Œç”¨mine(æˆ‘çš„ä¸œè¥¿)ã€‚"},
            {t:'choice', inst:"[åŠ¨ä½œ] æŠŠä¹¦ç»™ ___", q:"Give the book to _____.", opts:["he", "him"], a:"him", why:"ğŸ” åŠ¨ä½œ(Give)åé¢ï¼Œç”¨å®¾æ ¼himã€‚"},
            {t:'choice', inst:"[ç‰©å“] é‚£æ˜¯ ___ è½¦", q:"That is _____ car.", opts:["hers", "her"], a:"her", why:"ğŸ” åé¢æœ‰è½¦(car)ï¼Œç”¨herã€‚"},
            {t:'choice', inst:"[ç‰©å“] è¿™è½¦æ˜¯ ___", q:"The car is _____.", opts:["hers", "her"], a:"hers", why:"ğŸ” è¿™è½¦æ˜¯å¥¹çš„(hers)ã€‚"},
            {t:'choice', inst:"[åŠ¨ä½œ] çœ‹ç€ ___!", q:"Look at _____!", opts:["they", "them"], a:"them", why:"ğŸ” åŠ¨ä½œ(Look)åé¢ï¼Œç”¨å®¾æ ¼themã€‚"},
            {t:'choice', inst:"[èº«ä»½] ___ æ˜¯æœ‹å‹", q:"_____ are friends.", opts:["We", "Us"], a:"We", why:"ğŸ” åšä¸»è¯­ï¼Œç”¨Weã€‚"},
            {t:'choice', inst:"[æ±‚åŠ©] èƒ½å¸®å¸® ___ å—ï¼Ÿ", q:"Can you help _____?", opts:["I", "me"], a:"me", why:"ğŸ” å¸®æˆ‘ï¼ŒåŠ¨ä½œåç”¨meã€‚"},
            {t:'choice', inst:"[åå­—] ___ åå­—å«Nick", q:"_____ name is Nick.", opts:["He", "His"], a:"His", why:"ğŸ” ä»–çš„åå­— His nameã€‚"},
            {t:'choice', inst:"[è¯¢é—®] è¿™æ˜¯ ___ å—ï¼Ÿ", q:"Is this _____?", opts:["yours", "your"], a:"yours", why:"ğŸ” è¿™æ˜¯ä½ çš„(ä¸œè¥¿)å—ï¼Ÿç”¨yoursã€‚"},
            {t:'choice', inst:"[å–œå¥½] æˆ‘å–œæ¬¢ ___", q:"I like _____.", opts:["she", "her"], a:"her", why:"ğŸ” å–œæ¬¢å¥¹ï¼ŒåŠ¨ä½œåç”¨herã€‚"},
            {t:'choice', inst:"[å®¶äºº] ___ å“¥å“¥åœ¨å“ªï¼Ÿ", q:"Where is _____ brother?", opts:["she", "her"], a:"her", why:"ğŸ” å¥¹çš„å“¥å“¥ï¼Œç”¨herã€‚"},
            {t:'choice', inst:"ğŸ” å†æ¬¡ç¡®è®¤ï¼šå¥¹åœ¨å“ªï¼Ÿ", q:"Where is _____?", opts:["she", "her"], a:"she", why:"ğŸš¨ è®°ä½ï¼é—®äººåœ¨å“ªç”¨Sheï¼"},
            {t:'choice', inst:"[ç‰¹å¾] ___ çœ¼ç›å¾ˆå¤§", q:"_____ eyes are big.", opts:["Its", "It"], a:"Its", why:"ğŸ” å®ƒçš„çœ¼ç› Its eyesã€‚"},
            {t:'choice', inst:"[æè¿°] ___ å¾ˆå¯çˆ±", q:"Look at that cat. _____ is cute.", opts:["It", "Its"], a:"It", why:"ğŸ” å®ƒæ˜¯å¯çˆ±çš„ï¼Œç”¨Itã€‚"},
            {t:'choice', inst:"[ç‰©å“] ä¹¦æ˜¯ ___", q:"These books are _____.", opts:["ours", "our"], a:"ours", why:"ğŸ” æ˜¯æˆ‘ä»¬çš„(ours)ã€‚"},
            {t:'choice', inst:"[æƒ…æ„Ÿ] è€å¸ˆçˆ± ___", q:"Teacher loves _____.", opts:["us", "we"], a:"us", why:"ğŸ” çˆ±æˆ‘ä»¬(us)ã€‚"},
            {t:'choice', inst:"[å–œå¥½] ___ å–œæ¬¢è‹¹æœå—ï¼Ÿ", q:"Does _____ like apples?", opts:["he", "him"], a:"he", why:"ğŸ” ä»–(ä¸»è¯­)å–œæ¬¢å—ï¼Ÿç”¨Heã€‚"}
        ],
        // ç¬¬å…­å…³ï¼šç‰›å±€é•¿çš„ç»“æ¡ˆæŠ¥å‘Š (å¤§å°å†™)
        6: [
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šå¥é¦–", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["she is happy.", "She is happy."], a:"She is happy.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå¥å­ç¬¬ä¸€ä¸ªå­—æ¯å¿…é¡»å¤§å†™ï¼"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šç–‘é—®å¥", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["where are you?", "Where are you?"], a:"Where are you?", why:"ğŸ‘® ç‰›å±€é•¿ï¼šWè¦å¤§å†™ï¼Œè¿™æ˜¯å¥å­çš„å¤´ï¼"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šåå­—", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["I am judy.", "I am Judy."], a:"I am Judy.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šJudyæ˜¯åå­—ï¼ŒJéƒ½ä¸å¤§å†™ï¼Ÿé‡å†™ï¼"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šåå­—", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["This is Nick.", "This is nick."], a:"This is Nick.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šNickæ˜¯åå­—ï¼ŒNè¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šæˆ‘å’Œå¦ˆå¦ˆ", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["My mom and i.", "My mom and I."], a:"My mom and I.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå•ä¸ªçš„â€œIâ€(æˆ‘)ï¼Œæ°¸è¿œè¦å¤§å†™ï¼"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šåœ°å", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["Welcome to Zootopia.", "Welcome to zootopia."], a:"Welcome to Zootopia.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šåŠ¨ç‰©åŸ(Zootopia)æ˜¯åœ°åï¼ŒZå¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šä»–", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["he likes apples.", "He likes apples."], a:"He likes apples.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå¥é¦–Hè¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šå®ƒ", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["it is a cat.", "It is a cat."], a:"It is a cat.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå¥é¦–Iè¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šäººå", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["Is she Mary?", "Is she mary?"], a:"Is she Mary?", why:"ğŸ‘® ç‰›å±€é•¿ï¼šMaryæ˜¯åå­—ï¼ŒMå¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šæˆ‘æ˜¯", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["am i late?", "Am I late?"], a:"Am I late?", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå¥é¦–Aå¤§å†™ï¼Œé‡Œé¢çš„I(æˆ‘)ä¹Ÿè¦å¤§å†™ï¼"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šå‘½ä»¤", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["open the door.", "Open the door."], a:"Open the door.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå¥é¦–Oå¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šå›½å®¶", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["I live in China.", "I live in china."], a:"I live in China.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šChinaæ˜¯å›½å®¶ï¼ŒCå¿…é¡»å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šæ˜ŸæœŸ", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["On sunday.", "On Sunday."], a:"On Sunday.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šæ˜ŸæœŸå‡ (Sunday)é¦–å­—æ¯è¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šæœˆä»½", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["In may.", "In May."], a:"In May.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šæœˆä»½(May)é¦–å­—æ¯è¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šå¥½å‹", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["Nick and Judy are friends.", "nick and judy are friends."], a:"Nick and Judy are friends.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šä¸¤ä¸ªåå­—éƒ½è¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šæˆ‘å¯ä»¥å—", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["Can i help you?", "Can I help you?"], a:"Can I help you?", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå†æ¬¡å¼ºè°ƒï¼ŒI(æˆ‘) æ°¸è¿œå¤§å†™ï¼"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šä»–ä»¬", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["they are running.", "They are running."], a:"They are running.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå¥é¦–Tè¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šä½ æ˜¯", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["are you ready?", "Are you ready?"], a:"Are you ready?", why:"ğŸ‘® ç‰›å±€é•¿ï¼šå¥é¦–Aè¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šè¯­è¨€", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["We love English.", "we love english."], a:"We love English.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šWeå¥é¦–å¤§å†™ï¼ŒEnglishè¯­è¨€åä¹Ÿè¦å¤§å†™ã€‚"},
            {t:'choice', inst:"ğŸ“‘ æŠ¥å‘Šçº é”™ï¼šå‘Šåˆ«", q:"é€‰å‡ºæ­£ç¡®çš„å¥å­", opts:["Goodbye, ben.", "Goodbye, Ben."], a:"Goodbye, Ben.", why:"ğŸ‘® ç‰›å±€é•¿ï¼šBenæ˜¯åå­—ï¼ŒBè¦å¤§å†™ã€‚"}
        ],
        // ç¬¬7å…³ï¼šæ¡£æ¡ˆå®¤çš„ç‰¹è®­ (20é¢˜ï¼Œä»£è¯è¡¨æ ¼è®°å¿†)
        7: [
            {t:'card', inst:"I (å®¾æ ¼)", q:"I â†’ ?", opts:["me", "my"], a:"me", why:"Look at me (çœ‹æˆ‘)ã€‚"},
            {t:'card', inst:"I (æˆ‘çš„ - å½¢å®¹è¯)", q:"I â†’ ?", opts:["my", "mine"], a:"my", why:"My name (æˆ‘çš„åå­—)ã€‚"},
            {t:'card', inst:"I (æˆ‘çš„ä¸œè¥¿ - åè¯æ€§)", q:"I â†’ ?", opts:["my", "mine"], a:"mine", why:"It is mine (æ˜¯æˆ‘çš„)ã€‚"},
            {t:'card', inst:"You (å®¾æ ¼)", q:"You â†’ ?", opts:["you", "your"], a:"you", why:"I love you (æˆ‘çˆ±ä½ )ã€‚å®¾æ ¼è¿˜æ˜¯Youï¼"},
            {t:'card', inst:"You (ä½ çš„ - å½¢å®¹è¯)", q:"You â†’ ?", opts:["you", "your"], a:"your", why:"Your book (ä½ çš„ä¹¦)ã€‚"},
            {t:'card', inst:"You (ä½ çš„ä¸œè¥¿ - åè¯æ€§)", q:"You â†’ ?", opts:["your", "yours"], a:"yours", why:"It is yours (æ˜¯ä½ çš„)ã€‚"},
            {t:'card', inst:"He (å®¾æ ¼)", q:"He â†’ ?", opts:["him", "his"], a:"him", why:"Ask him (é—®ä»–)ã€‚"},
            {t:'card', inst:"He (ä»–çš„ - å½¢å®¹è¯)", q:"He â†’ ?", opts:["him", "his"], a:"his", why:"His car (ä»–çš„è½¦)ã€‚"},
            {t:'card', inst:"He (ä»–çš„ä¸œè¥¿ - åè¯æ€§)", q:"He â†’ ?", opts:["him", "his"], a:"his", why:"It is his (æ˜¯ä»–çš„)ã€‚Hisä¸¤ç§ç”¨æ³•æ‹¼å†™ä¸€æ ·ï¼"},
            {t:'card', inst:"She (å®¾æ ¼)", q:"She â†’ ?", opts:["her", "hers"], a:"her", why:"Call her (æ‰“ç”µè¯ç»™å¥¹)ã€‚"},
            {t:'card', inst:"She (å¥¹çš„ - å½¢å®¹è¯)", q:"She â†’ ?", opts:["her", "hers"], a:"her", why:"Her bag (å¥¹çš„åŒ…)ã€‚"},
            {t:'card', inst:"She (å¥¹çš„ä¸œè¥¿ - åè¯æ€§)", q:"She â†’ ?", opts:["her", "hers"], a:"hers", why:"It is hers (æ˜¯å¥¹çš„)ã€‚"},
            {t:'card', inst:"It (å®¾æ ¼)", q:"It â†’ ?", opts:["it", "its"], a:"it", why:"Catch it (æŠ“ä½å®ƒ)ã€‚"},
            {t:'card', inst:"It (å®ƒçš„ - å½¢å®¹è¯)", q:"It â†’ ?", opts:["it", "its"], a:"its", why:"Its tail (å®ƒçš„å°¾å·´)ã€‚"},
            {t:'card', inst:"We (å®¾æ ¼)", q:"We â†’ ?", opts:["us", "our"], a:"us", why:"Join us (åŠ å…¥æˆ‘ä»¬)ã€‚"},
            {t:'card', inst:"We (æˆ‘ä»¬çš„ - å½¢å®¹è¯)", q:"We â†’ ?", opts:["our", "ours"], a:"our", why:"Our class (æˆ‘ä»¬çš„ç­)ã€‚"},
            {t:'card', inst:"We (æˆ‘ä»¬çš„ä¸œè¥¿ - åè¯æ€§)", q:"We â†’ ?", opts:["our", "ours"], a:"ours", why:"It is ours (æ˜¯æˆ‘ä»¬çš„)ã€‚"},
            {t:'card', inst:"They (å®¾æ ¼)", q:"They â†’ ?", opts:["them", "their"], a:"them", why:"Help them (å¸®åŠ©ä»–ä»¬)ã€‚"},
            {t:'card', inst:"They (ä»–ä»¬çš„ - å½¢å®¹è¯)", q:"They â†’ ?", opts:["them", "their"], a:"their", why:"Their house (ä»–ä»¬çš„æˆ¿å­)ã€‚"},
            {t:'card', inst:"They (ä»–ä»¬çš„ä¸œè¥¿ - åè¯æ€§)", q:"They â†’ ?", opts:["their", "theirs"], a:"theirs", why:"It is theirs (æ˜¯ä»–ä»¬çš„)ã€‚"}
        ]
    };

    let currentQ = [];
    let idx = 0;
    let score = 0;
    let wrongList = [];

    function startGame() {
        const level = document.getElementById('level-select').value;
        currentQ = DB[level].sort(() => Math.random() - 0.5); 
        
        idx = 0; score = 0; wrongList = [];
        document.getElementById('setup-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        
        // æ ·å¼é‡ç½®
        const gameScreen = document.getElementById('game-screen');
        gameScreen.className = 'game-card'; 
        if(level == 2 || level == 7) gameScreen.classList.add('flashcard-mode');
        if(level == 6) gameScreen.classList.add('sentence-mode');

        renderQuestion();
    }

    function renderQuestion() {
        const q = currentQ[idx];
        const isInput = q.t === 'input';
        const level = document.getElementById('level-select').value;
        
        document.getElementById('progress-display').innerText = `æ¡ˆä»¶è¿›åº¦: ${idx+1}/${currentQ.length}`;
        document.getElementById('progress-bar').style.width = `${((idx+1)/currentQ.length)*100}%`;
        document.getElementById('score-display').innerText = `ğŸ… åŠŸå‹‹: ${score}`;
        
        let typeText = "é€‰æ‹©é¢˜";
        if(q.t === 'input') typeText = "æ‹¼å†™ä¿®å¤";
        if(q.t === 'card') typeText = "ååº”æµ‹è¯•";
        if(level == 6) typeText = "æ–‡ä¹¦çº é”™";
        document.getElementById('q-tag').innerText = typeText;

        document.getElementById('q-inst').innerText = q.inst || "è¯·æ‰§è¡ŒæŒ‡ä»¤";
        document.getElementById('q-main').innerHTML = q.q || q.inst;

        const grid = document.getElementById('options-grid');
        const inputArea = document.getElementById('input-area');
        const feedback = document.getElementById('feedback-box');
        const nextBtn = document.getElementById('next-btn');

        grid.innerHTML = '';
        feedback.style.display = 'none';
        nextBtn.style.display = 'none';
        
        if(level == 6) {
            grid.classList.add('single-col-grid');
        } else {
            grid.classList.remove('single-col-grid');
        }

        if(isInput) {
            grid.style.display = 'none';
            inputArea.style.display = 'block';
            const inputField = document.getElementById('user-input');
            inputField.value = '';
            inputField.placeholder = "?";
            inputField.disabled = false;
            inputField.focus();
            
            inputField.onkeypress = function(e){
                if(e.keyCode === 13) checkSpelling();
            };

        } else {
            grid.style.display = 'grid';
            inputArea.style.display = 'none';
            
            let opts = [...q.opts];
            if(q.t !== 'card' && level != 6 && level != 7) opts.sort(() => Math.random() - 0.5); 

            opts.forEach(opt => {
                const btn = document.createElement('div');
                btn.className = 'option-btn';
                btn.innerText = opt;
                btn.onclick = () => checkChoice(btn, opt, q);
                grid.appendChild(btn);
            });
        }
    }

    function checkSpelling() {
        const input = document.getElementById('user-input');
        const val = input.value.trim().toLowerCase();
        const q = currentQ[idx];
        const nextBtn = document.getElementById('next-btn');
        
        if(!val) return;

        input.disabled = true; 

        if(val === q.a.toLowerCase()) {
            score += 5;
            showFeedback(true, "âœ… è¯ç‰©ä¿®å¤æˆåŠŸï¼", `${q.full}<br>(å¹²å¾—å¥½ï¼Œæ­æ¡£ï¼)`);
        } else {
            wrongList.push(`æ¡ˆä»¶ï¼š${q.full} | é”™è¯¯è¾“å…¥ï¼š${val}`);
            showFeedback(false, "âŒ ä¿®å¤å¤±è´¥ï¼", `æ­£ç¡®çº¿ç´¢æ˜¯ï¼š${q.a}<br>å®Œæ•´å•è¯ï¼š${q.full}`);
        }
        nextBtn.style.display = 'block';
    }

    function checkChoice(btn, val, q) {
        document.querySelectorAll('.option-btn').forEach(b => b.onclick = null);
        
        const isCorrect = val === q.a;
        
        if(isCorrect) {
            btn.classList.add('correct');
            score += 5;
            showFeedback(true, "âœ… é€®æ•æˆåŠŸï¼", q.why);
        } else {
            btn.classList.add('wrong');
            document.querySelectorAll('.option-btn').forEach(b => {
                if(b.innerText === q.a) b.classList.add('correct');
            });
            wrongList.push(`æ¡ˆä»¶ï¼š${q.inst} | æ­£ç¡®ï¼š${q.a}`);
            showFeedback(false, "âŒ å«Œç–‘äººé€ƒè·‘äº†ï¼", q.why);
        }
        document.getElementById('next-btn').style.display = 'block';
    }

    function showFeedback(isCorrect, title, text) {
        const box = document.getElementById('feedback-box');
        const titleSpan = document.getElementById('fb-title');
        const textSpan = document.getElementById('fb-text');

        box.style.display = 'block';
        titleSpan.innerText = title;
        titleSpan.style.color = isCorrect ? 'var(--correct)' : 'var(--wrong)';
        textSpan.innerHTML = text;
        playAudio(isCorrect);
    }

    function nextQuestion() {
        idx++;
        if(idx < currentQ.length) {
            renderQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        document.getElementById('game-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').innerText = score;
        
        const list = document.getElementById('wrong-list');
        if(wrongList.length === 0) {
            list.innerHTML = "<p style='color:var(--correct)'>ğŸ‰ å®Œç¾ç»“æ¡ˆï¼ç‰›å±€é•¿å¯¹ä½ åˆ®ç›®ç›¸çœ‹ï¼</p>";
        } else {
            list.innerHTML = "<p style='color:var(--wrong)'><b>ğŸ“‚ æœªç»“æ¡ˆä»¶å¤ç›˜ï¼š</b></p>" + 
                wrongList.map(item => `<div style="margin-bottom:8px; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:5px;">${item}</div>`).join('');
        }
    }

    let audioCtx;
    function playAudio(isCorrect) {
        try {
            if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            if(audioCtx.state === 'suspended') audioCtx.resume();
            
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            
            if(isCorrect) {
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(600, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
                gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                osc.start(); osc.stop(audioCtx.currentTime + 0.3);
            } else {
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(100, audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(80, audioCtx.currentTime + 0.2);
                gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
                osc.start(); osc.stop(audioCtx.currentTime + 0.4);
            }
        } catch(e) {}
    }
</script>
</body>
</html>